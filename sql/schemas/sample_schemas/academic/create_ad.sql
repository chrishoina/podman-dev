Rem  Copyright (c) Oracle Corporation 2018. All Rights Reserved.
Rem
Rem    NAME
Rem      create_ad.sql
Rem
Rem    DESCRIPTION
Rem      This script creates AD (Academic) sample schema
Rem
Rem    NOTES
Rem      Assumes the SYS user is connected.
Rem
Rem    MODIFIED   (MM/DD/YYYY)
Rem    sbkenned    01/31/2018 - Created

SET ECHO OFF
SET VERIFY OFF
SET HEADING OFF
SET FEEDBACK OFF

SET DEFINE '^'

DEFINE pass='^1'
DEFINE tbs='^2'
DEFINE overwrite_schema='^3'

-- Exit setup script on any error
WHENEVER SQLERROR EXIT SQL.SQLCODE

rem =======================================================
rem Accept and verify schema password
rem =======================================================

-- ACCEPT pass PROMPT 'Enter a password for the user AD: ' HIDE

BEGIN
   IF '^pass' IS NULL THEN
      RAISE_APPLICATION_ERROR(-20999, 'Error: the AD password is mandatory! Please specify a password!');
   END IF;
END;
/

rem =======================================================
rem Accept and verify tablespace name
rem =======================================================
COLUMN property_value NEW_VALUE var_default_tablespace NOPRINT
VARIABLE var_default_tablespace VARCHAR2(255)
SELECT NVL( '^tbs', property_value ) as property_value FROM database_properties WHERE property_name = 'DEFAULT_PERMANENT_TABLESPACE';
DEFINE tbs='^var_default_tablespace'

rem =======================================================
rem cleanup old AD schema, if found and requested
rem =======================================================

-- ACCEPT overwrite_schema PROMPT 'Do you want to overwrite the schema, if it already exists? [YES|no]: ' DEFAULT 'YES'

SET SERVEROUTPUT ON;
DECLARE
   v_user_exists   all_users.username%TYPE;
BEGIN
   SELECT MAX(username) INTO v_user_exists
      FROM all_users WHERE username = 'AD';
   -- Schema already exists
   IF v_user_exists IS NOT NULL THEN
      -- Overwrite schema if the user chose to do so
      IF UPPER('^overwrite_schema') = 'YES' THEN
         EXECUTE IMMEDIATE 'DROP USER AD CASCADE';
         DBMS_OUTPUT.PUT_LINE('Old AD schema has been dropped.');
      -- or raise error if the user doesn't want to overwrite it
      ELSE
         RAISE_APPLICATION_ERROR(-20997, 'Abort: the schema already exists and the user chose not to overwrite it.');
      END IF;
   END IF;
END;
/
SET SERVEROUTPUT OFF;

create user AD identified by "^pass"
       default tablespace ^tbs quota unlimited on ^tbs
       account lock password expire;

GRANT CREATE TABLE,
  CREATE VIEW
TO AD;

alter session set current_schema = AD;
ALTER SESSION SET NLS_LANGUAGE=American;
ALTER SESSION SET NLS_TERRITORY=America;

CREATE TABLE AD_ACADEMIC_SESSION
  (
    SESSION_ID   NUMBER  NOT NULL ,
    SESSION_NAME VARCHAR2(50)
  ) ;

CREATE TABLE AD_COURSE_DETAILS
  (
    COURSE_ID           NUMBER  NOT NULL ,
    COURSE_NAME         VARCHAR2 (50) ,
    SESSION_ID          NUMBER ,
    DEPARTMENT_ID       NUMBER 
   
  ) ;

CREATE TABLE AD_DEPARTMENTS
  (
    DEPARTMENT_ID   NUMBER  NOT NULL ,
    DEPARTMENT_NAME VARCHAR2(50) ,
    HOD             VARCHAR2(50)
  ) ;

CREATE TABLE AD_EXAM_DETAILS
  (
    EXAM_ID      NUMBER  NOT NULL ,
    EXAM_TYPE    VARCHAR2(50) NOT NULL ,
    START_DATE   DATE ,
    NAME         VARCHAR2(50) 
    
  ) ;

CREATE TABLE AD_EXAM_RESULTS
  (
    STUDENT_ID        NUMBER ,
    EXAM_ID           NUMBER ,
    COURSE_ID         NUMBER ,
    MARKS             NUMBER 
    
  ) ;

CREATE TABLE AD_EXAM_TYPE
  (
    EXAM_TYPE VARCHAR2(50)   NOT NULL ,
    EXAM_NAME VARCHAR2(50) ,
    EXAM_DESC VARCHAR2(50)
  ) ;

CREATE TABLE AD_FACULTY_COURSE_DETAILS
  (
    FACULTY_ID         NUMBER ,
    COURSE_ID          NUMBER 
    
  ) ;
  
CREATE TABLE AD_JOBS
    ( JOB_ID         VARCHAR2(10)
    , JOB_TITLE      VARCHAR2(35)
	CONSTRAINT     ad_job_title_nn  NOT NULL
    , MIN_SALARY     NUMBER(6)
    , MAX_SALARY     NUMBER(6)
    ) ;

CREATE TABLE AD_FACULTY_DETAILS
    ( FACULTY_ID     NUMBER(6)
    , FIRST_NAME     VARCHAR2(20)
    , LAST_NAME      VARCHAR2(25)
	 CONSTRAINT     fac_last_name_nn  NOT NULL
    , EMAIL          VARCHAR2(25)
	CONSTRAINT     fac_email_nn  NOT NULL
    , PHONE_NUMBER   VARCHAR2(20)
    , HIRE_DATE      DATE
	CONSTRAINT     fac_hire_date_nn  NOT NULL
    , JOB_ID         VARCHAR2(10)
	CONSTRAINT     fac_job_nn  NOT NULL
    , SALARY         NUMBER(8,2)             
    ,CONSTRAINT     fac_salary_min
                     CHECK (SALARY > 0) 
    ,CONSTRAINT     fac_email_uk
                     UNIQUE (EMAIL)
    ) ;

CREATE TABLE AD_FACULTY_LOGIN_DETAILS
  (
    FACULTY_ID         NUMBER ,
    LOGIN_DATE         DATE ,
    LOGIN_TIME         DATE ,
    DETAILS            VARCHAR2(50) 
    
  ) ;

CREATE TABLE AD_PARENT_INFORMATION
  (
    PARENT_ID   NUMBER NOT NULL ,
    FATHER_NAME VARCHAR2(50) ,
    MOTHER_NAME VARCHAR2(50)
  ) ;

CREATE TABLE AD_STUDENT_ATTENDANCE
  (
    STUDENT_ID            NUMBER ,
    NO_OF_WORKING_DAYS    NUMBER ,
    NO_OF_DAYS_OFF        NUMBER ,
    ELIGIBILITY_FOR_EXAMS CHAR 
    
  ) ;

CREATE TABLE AD_STUDENT_COURSE_DETAILS
  (
    STUDENT_ID         NUMBER ,
    COURSE_ID          NUMBER 
      ) ;

CREATE TABLE AD_STUDENT_DETAILS
  (
    STUDENT_ID            NUMBER NOT NULL ,
    FIRST_NAME            VARCHAR2(50) ,
    PARENT_ID             NUMBER ,
    STUDENT_REG_YEAR      DATE
  );

create or replace view ad_student_course_info as 
select initcap(cd.course_name) course_name, 
      cd.course_id, 
      initcap(d.department_name) department_name, 
      initcap(d.hod) department_head, 
      fd.first_name ||' '||fd.last_name instructor,
      fd.hire_date instructor_since, 
      (select job_title from AD_JOBS where ad_jobs.job_id = fd.job_id) instructor_title, 
      lower(fd.email)||'@getsmartnow.edu' instructor_email,
      sd.first_name student, 
      sd.STUDENT_REG_YEAR  + 730 STUDENT_REG_YEAR, 
      initcap(aas.session_name) session_name
from   ad_course_details cd, 
      AD_DEPARTMENTS d,
      AD_FACULTY_COURSE_DETAILS fcd,
      AD_FACULTY_DETAILS fd,
      AD_STUDENT_COURSE_DETAILS scd,
      AD_STUDENT_DETAILS sd,
      AD_ACADEMIC_SESSION aas
where  cd.department_id = d.department_id and
      cd.course_id = fcd.course_id and
      fd.faculty_id = fcd.faculty_id and
      scd.course_id = cd.course_id and
      scd.student_id = sd.student_id and
      aas.SESSION_ID = cd.SESSION_ID;


-- Data
-- RECORDS FOR AD_ACADEMIC_SESSION TABLE
INSERT INTO AD_ACADEMIC_SESSION VALUES (100, 'SPRING SESSION');
INSERT INTO AD_ACADEMIC_SESSION VALUES (200, 'FALL SESSION');
INSERT INTO AD_ACADEMIC_SESSION VALUES (300, 'SUMMER SESSION');
commit;

-- RECORDS FOR AD_COURSE_DETAILS TABLE
INSERT INTO AD_COURSE_DETAILS VALUES (190, 'PRINCIPLES OF ACCOUNTING', 100, 10);
INSERT INTO AD_COURSE_DETAILS VALUES (191, 'INTRODUCTION TO BUSINESS LAW', 100, 10);
INSERT INTO AD_COURSE_DETAILS VALUES (192, 'COST ACCOUNTING', 100, 10);
INSERT INTO AD_COURSE_DETAILS VALUES (193, 'STRATEGIC TAX PLANNING FOR BUSINESS', 100, 10);
INSERT INTO AD_COURSE_DETAILS VALUES (194, 'GENERAL BIOLOGY', 200, 20);
INSERT INTO AD_COURSE_DETAILS VALUES (195, 'CELL BIOLOGY', 200, 20);
INSERT INTO AD_COURSE_DETAILS VALUES (196, 'INTRODUCTION TO PLANT PHYSIOLOGY', 200, 20);
INSERT INTO AD_COURSE_DETAILS VALUES (197, 'MARINE BIOLOGY', 200, 20);
INSERT INTO AD_COURSE_DETAILS VALUES (198, 'SIMULATION AND MODELING', 300, 30);
INSERT INTO AD_COURSE_DETAILS VALUES (199, 'WEB PROGRAMMING', 300, 30);
INSERT INTO AD_COURSE_DETAILS VALUES (187, 'DATA STRUCTURES', 300, 30);
INSERT INTO AD_COURSE_DETAILS VALUES (188, 'OOAD', 300, 30);
INSERT INTO AD_COURSE_DETAILS VALUES (189, 'COLLEGE READING', 100, 40);
INSERT INTO AD_COURSE_DETAILS VALUES (176, 'BUSINESS WRITING', 200, 40);
INSERT INTO AD_COURSE_DETAILS VALUES (175, 'AMERICAN LITERATURE', 300, 40);
commit;

-- RECORDS FOR AD_DEPARTMENTS TABLE
INSERT INTO AD_DEPARTMENTS VALUES(10, 'ACCOUNTING', 'MARK SMITH');
INSERT INTO AD_DEPARTMENTS VALUES(20, 'BIOLOGY', 'DAVE GOLD');
INSERT INTO AD_DEPARTMENTS VALUES(30, 'COMPUTER SCIENCE', 'LINDA BROWN');
INSERT INTO AD_DEPARTMENTS VALUES(40, 'LITERATURE', 'ANITA TAYLOR');
commit;

-- RECORDS FOR AD_EXAM_TYPE TABLE
INSERT INTO AD_EXAM_TYPE VALUES('MCE','Multiple Choice Exams','CHOOSE MORE THAN ONE ANSWER');
INSERT INTO AD_EXAM_TYPE VALUES('TF','TRUE AND FALSE Exams','CHOOSE EITHER TRUE OR FALSE');
INSERT INTO AD_EXAM_TYPE VALUES('FIB','FILL IN THE BLANKS Exams','TYPE IN THE CORRECT ANSWER');
INSERT INTO AD_EXAM_TYPE VALUES('ESS','ESSAY Exams','WRITE PARAGRAPHS');
INSERT INTO AD_EXAM_TYPE VALUES('SA','SHORT ANSWER Exams','WRITE SHORT ANSWERS');
INSERT INTO AD_EXAM_TYPE VALUES('PS','PROBLEM SOLVING Exams','SOLVE THE PROBLEM');
INSERT INTO AD_EXAM_TYPE VALUES('LAB','LAB Exams','HANDS ON EXAM');
INSERT INTO AD_EXAM_TYPE VALUES('OB','OPEN BOOK Exams','OPEN BOOK METHOD');
commit;

-- RECORDS FOR AD_EXAM_DETAILS TABLE
INSERT INTO AD_EXAM_DETAILS VALUES(500,'MCE',TO_DATE('12-SEP-2015','DD-MON-YYYY'),'FALL SESSION EXAM');
INSERT INTO AD_EXAM_DETAILS VALUES(510,'SA',TO_DATE('15-SEP-2015','DD-MON-YYYY'),'FALL SESSION EXAM');
INSERT INTO AD_EXAM_DETAILS VALUES(520,'LAB',TO_DATE('18-SEP-2015','DD-MON-YYYY'),'FALL SESSION EXAM');
INSERT INTO AD_EXAM_DETAILS VALUES(530,'ESS',TO_DATE('21-MAR-2016','DD-MON-YYYY'),'SPRING SESSION EXAM');
INSERT INTO AD_EXAM_DETAILS VALUES(540,'OB',TO_DATE('25-MAR-2016','DD-MON-YYYY'),'SPRING SESSION EXAM');
INSERT INTO AD_EXAM_DETAILS VALUES(550,'TF',TO_DATE('02-APR-2016','DD-MON-YYYY'),'SPRING SESSION EXAM');
INSERT INTO AD_EXAM_DETAILS VALUES(560,'FIB',TO_DATE('26-MAY-2016','DD-MON-YYYY'),'SUMMER SESSION EXAM');
INSERT INTO AD_EXAM_DETAILS VALUES(570,'SA',TO_DATE('30-MAY-2016','DD-MON-YYYY'),'SUMMER SESSION EXAM');
commit;

--RECORDS FOR AD_PARENT_INFORMATION TABLE
INSERT INTO AD_PARENT_INFORMATION VALUES(600,'NEIL SMITH','DORIS SMITH');
INSERT INTO AD_PARENT_INFORMATION VALUES(610,'WILLIAM BEN','NITA BEN');
INSERT INTO AD_PARENT_INFORMATION VALUES(620,'SEAN TAYLOR','RHEA TAYLOR');
INSERT INTO AD_PARENT_INFORMATION VALUES(630,'DAVE CARMEN','CATHY CARMEN');
INSERT INTO AD_PARENT_INFORMATION VALUES(640,'JOHN AUDRY','JANE AUDRY');
commit;

--RECORDS FOR AD_STUDENT_DETAILS TABLE
INSERT INTO AD_STUDENT_DETAILS VALUES(720, 'JACK', 600, TO_DATE('01-JAN-2014','DD-MON-YYYY'));
INSERT INTO AD_STUDENT_DETAILS VALUES(740, 'RHONDA', 620, TO_DATE('01-SEP-2014','DD-MON-YYYY'));
INSERT INTO AD_STUDENT_DETAILS VALUES(750, 'ROBERT', 610, TO_DATE('01-MAR-2014','DD-MON-YYYY'));
INSERT INTO AD_STUDENT_DETAILS VALUES(760, 'JEANNE', 610, TO_DATE('01-MAR-2014','DD-MON-YYYY'));
INSERT INTO AD_STUDENT_DETAILS VALUES(770, 'MILLS', 630, TO_DATE('01-APR-2015','DD-MON-YYYY'));
INSERT INTO AD_STUDENT_DETAILS VALUES(710, 'NINA', 630, TO_DATE('01-JAN-2013','DD-MON-YYYY'));
INSERT INTO AD_STUDENT_DETAILS VALUES(780, 'NATHAN', 640, TO_DATE('01-JAN-2016','DD-MON-YYYY'));
INSERT INTO AD_STUDENT_DETAILS VALUES(730, 'NOAH', 640, TO_DATE('01-JUN-2014','DD-MON-YYYY'));
commit;

--RECORDS FOR AD_STUDENT_course_DETAILS TABLE
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(720,190);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(720,193);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(720,191);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(740,195);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(740,197);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(740,199);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(750,192);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(750,175);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(750,176);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(750,189);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(760,188);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(760,187);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(760,190);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(760,192);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(770,188);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(770,187);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(710,176);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(710,175);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(780,192);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(780,193);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(780,194);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(730,199);
INSERT INTO AD_STUDENT_COURSE_DETAILS VALUES(730,198);
commit;

--RECORDS FOR AD_STUDENT_ATTENDANCE
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 710, 180, 20,'Y');
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 720, 180, 21,'Y');
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 730, 180, 11,'Y');
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 740, 180, 12,'Y');
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 750, 180, 14,'Y');
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 760, 180, 15,'Y');
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 770, 180, 13,'Y');
INSERT INTO AD_STUDENT_ATTENDANCE VALUES( 780, 180, 10,'Y');
commit;

-- RECORDS FOR AD_JOBS TABLE
INSERT INTO AD_JOBS (JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY) VALUES ('FA_ST','Staff Faculty',3000,6000);
INSERT INTO AD_JOBS (JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY) VALUES ('FA_SF','Senior Faculty',4200,9000);
INSERT INTO AD_JOBS (JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY) VALUES ('FA_AF','Associate Faculty',8200,16000);
INSERT INTO AD_JOBS (JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY) VALUES ('FA_PF','Principal Faculty',15000,30000);
INSERT INTO AD_JOBS (JOB_ID,JOB_TITLE,MIN_SALARY,MAX_SALARY) VALUES ('FA_HOD','Head of the Department',20080,40000);
commit;

--RECORDS FOR AD_FACULTY_DETAILS TABLE
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (100,'Steven','King','SKING','515.123.4567',to_date('17-JUN-13','DD-MON-RR'),'FA_ST',4000);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (101,'Neena','Kochhar','NKOCHHAR','515.123.4568',to_date('21-SEP-15','DD-MON-RR'),'FA_ST',6000);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (102,'Lex','De Haan','LDEHAAN','515.123.4569',to_date('13-JAN-11','DD-MON-RR'),'FA_AF',15000);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (103,'Alexander','Hunold','AHUNOLD','590.423.4567',to_date('03-JAN-14','DD-MON-RR'),'FA_AF',9000);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (104,'Bruce','Ernst','BERNST','590.423.4568',to_date('21-MAY-12','DD-MON-RR'),'FA_SF',6000);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (105,'David','Austin','DAUSTIN','590.423.4569',to_date('25-JUN-15','DD-MON-RR'),'FA_SF',4800);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (106,'Valli','Pataballa','VPATABAL','590.423.4560',to_date('05-FEB-11','DD-MON-RR'),'FA_PF',28000);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (107,'Diana','Lorentz','DLORENTZ','590.423.5567',to_date('07-FEB-10','DD-MON-RR'),'FA_PF',18000);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (108,'Nancy','Greenberg','NGREENBE','515.124.4569',to_date('17-AUG-12','DD-MON-RR'),'FA_HOD',21200);
Insert into AD_FACULTY_DETAILS (FACULTY_ID,FIRST_NAME,LAST_NAME,EMAIL,PHONE_NUMBER,HIRE_DATE,JOB_ID,SALARY) VALUES (109,'Daniel','Faviet','DFAVIET','515.124.4169',to_date('16-AUG-12','DD-MON-RR'),'FA_HOD',39000);
commit;

--RECORDS FOR AD_FACULTY_COURSE_DETAILS TABLE
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (100, 192);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (100, 193);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (104, 190);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (105, 191);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (103, 194);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (104, 195);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (102, 196);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (109, 197);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (106, 198);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (106, 199);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (107, 187);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (108, 188);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (101, 189);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (101, 176);
INSERT INTO AD_FACULTY_COURSE_DETAILS VALUES (107, 175);
commit;

--RECORDS FOR AD_FACULTY_LOGIN_DETAILS TABLE
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(100,TO_DATE('23-NOV-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(100,TO_DATE('24-NOV-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(101,TO_DATE('22-NOV-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(102,TO_DATE('24-NOV-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(103,TO_DATE('01-DEC-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(102,TO_DATE('02-DEC-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(104,TO_DATE('16-OCT-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(104,TO_DATE('17-OCT-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(105,TO_DATE('24-NOV-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(101,TO_DATE('24-NOV-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(103,TO_DATE('03-DEC-2016','DD-MON-YYYY'));
INSERT INTO AD_FACULTY_LOGIN_DETAILS(FACULTY_ID,LOGIN_DATE) VALUES(104,TO_DATE('03-DEC-2016','DD-MON-YYYY'));
commit;

--RECORDS FOR AD_EXAM_RESULTS TABLE
INSERT INTO AD_EXAM_RESULTS VALUES(720,500,190,91);
INSERT INTO AD_EXAM_RESULTS VALUES(720,520,193,97);
INSERT INTO AD_EXAM_RESULTS VALUES(720,530,191,89);
INSERT INTO AD_EXAM_RESULTS VALUES(740,560,195,69);
INSERT INTO AD_EXAM_RESULTS VALUES(740,570,197,70);
INSERT INTO AD_EXAM_RESULTS VALUES(740,570,199,76);
INSERT INTO AD_EXAM_RESULTS VALUES(750,500,192,60);
INSERT INTO AD_EXAM_RESULTS VALUES(750,510,175,97);
INSERT INTO AD_EXAM_RESULTS VALUES(750,520,176,78);
INSERT INTO AD_EXAM_RESULTS VALUES(750,520,189,85);
INSERT INTO AD_EXAM_RESULTS VALUES(760,540,188,65);
INSERT INTO AD_EXAM_RESULTS VALUES(760,530,187,60);
INSERT INTO AD_EXAM_RESULTS VALUES(760,540,190,79);
INSERT INTO AD_EXAM_RESULTS VALUES(760,510,192,70);
INSERT INTO AD_EXAM_RESULTS VALUES(770,560,188,91);
INSERT INTO AD_EXAM_RESULTS VALUES(770,550,187,99);
INSERT INTO AD_EXAM_RESULTS VALUES(710,500,176,91);
INSERT INTO AD_EXAM_RESULTS VALUES(710,510,175,77);
INSERT INTO AD_EXAM_RESULTS VALUES(780,520,192,56);
INSERT INTO AD_EXAM_RESULTS VALUES(780,530,193,61);
INSERT INTO AD_EXAM_RESULTS VALUES(780,530,194,65);
INSERT INTO AD_EXAM_RESULTS VALUES(730,540,199,87);
INSERT INTO AD_EXAM_RESULTS VALUES(730,530,198,85);
commit;


-- Constraints
ALTER TABLE AD_ACADEMIC_SESSION ADD CONSTRAINT AD_ACADEMIC_SESSION_PK PRIMARY KEY ( SESSION_ID ) ;

ALTER TABLE AD_COURSE_DETAILS ADD CONSTRAINT AD_COURSE_DETAILS_PK PRIMARY KEY ( COURSE_ID ) ;

ALTER TABLE AD_DEPARTMENTS ADD CONSTRAINT AD_DEPARTMENT_PK PRIMARY KEY ( DEPARTMENT_ID ) ;

ALTER TABLE AD_EXAM_DETAILS ADD CONSTRAINT AD_EXAM_DETAILS_PK PRIMARY KEY ( EXAM_ID ) ;

ALTER TABLE AD_EXAM_TYPE ADD CONSTRAINT AD_EXAM_TYPE_PK PRIMARY KEY ( EXAM_TYPE ) ;

ALTER TABLE AD_JOBS ADD CONSTRAINT AD_JOBS_PK PRIMARY KEY ( JOB_ID ) ;

ALTER TABLE AD_FACULTY_DETAILS ADD CONSTRAINT AD_FACULTY_DETAILS_PK PRIMARY KEY ( FACULTY_ID ) ;

ALTER TABLE AD_FACULTY_DETAILS ADD CONSTRAINT AD_FACULTY_DETAILS_FK FOREIGN KEY (JOB_ID) REFERENCES AD_JOBS (JOB_ID);

ALTER TABLE AD_PARENT_INFORMATION ADD CONSTRAINT AD_PARENT_INFORMATION_PK PRIMARY KEY ( PARENT_ID ) ;

ALTER TABLE AD_STUDENT_DETAILS ADD CONSTRAINT AD_STUDENT_DETAILS_PK PRIMARY KEY ( STUDENT_ID ) ;

ALTER TABLE AD_COURSE_DETAILS ADD CONSTRAINT AD_COURSE_DETAILS_FK FOREIGN KEY ( SESSION_ID ) REFERENCES AD_ACADEMIC_SESSION ( SESSION_ID ) ;

ALTER TABLE AD_COURSE_DETAILS ADD CONSTRAINT AD_COURSE_DETAILS_FKv2 FOREIGN KEY ( DEPARTMENT_ID ) REFERENCES AD_DEPARTMENTS ( DEPARTMENT_ID ) ;

ALTER TABLE AD_EXAM_DETAILS ADD CONSTRAINT AD_EXAM_DETAILS_FK FOREIGN KEY ( EXAM_TYPE ) REFERENCES AD_EXAM_TYPE ( EXAM_TYPE ) ;

ALTER TABLE AD_EXAM_RESULTS ADD CONSTRAINT AD_EXAM_RESULTS_FK FOREIGN KEY ( COURSE_ID ) REFERENCES AD_COURSE_DETAILS ( COURSE_ID ) ;

ALTER TABLE AD_EXAM_RESULTS ADD CONSTRAINT AD_EXAM_RESULTS_FKv2 FOREIGN KEY ( EXAM_ID ) REFERENCES AD_EXAM_DETAILS ( EXAM_ID ) ;

ALTER TABLE AD_FACULTY_COURSE_DETAILS ADD CONSTRAINT AD_FACULTY_COURSE_DETAILS_FK FOREIGN KEY ( FACULTY_ID ) REFERENCES AD_FACULTY_DETAILS ( FACULTY_ID ) ;

ALTER TABLE AD_FACULTY_COURSE_DETAILS ADD CONSTRAINT AD_FACULTY_COURSE_DETAILS_FKv2 FOREIGN KEY (  COURSE_ID ) REFERENCES AD_COURSE_DETAILS ( COURSE_ID ) ;

ALTER TABLE AD_FACULTY_LOGIN_DETAILS ADD CONSTRAINT AD_FACULTY_LOGIN_DETAILS_FK FOREIGN KEY ( FACULTY_ID ) REFERENCES AD_FACULTY_DETAILS ( FACULTY_ID ) ;

ALTER TABLE AD_STUDENT_ATTENDANCE ADD CONSTRAINT AD_STUDENT_ATTENDANCE_FK FOREIGN KEY ( STUDENT_ID ) REFERENCES AD_STUDENT_DETAILS ( STUDENT_ID ) ;

ALTER TABLE AD_STUDENT_COURSE_DETAILS ADD CONSTRAINT AD_STUDENT_COURSE_DETAILS_FK FOREIGN KEY ( STUDENT_ID ) REFERENCES AD_STUDENT_DETAILS ( STUDENT_ID ) ;

ALTER TABLE AD_STUDENT_COURSE_DETAILS ADD CONSTRAINT AD_STUDENT_COURSE_DETAILS_FKv2 FOREIGN KEY ( COURSE_ID ) REFERENCES AD_COURSE_DETAILS ( COURSE_ID ) ;

ALTER TABLE AD_STUDENT_DETAILS ADD CONSTRAINT AD_STUDENT_DETAILS_FK FOREIGN KEY ( PARENT_ID ) REFERENCES AD_PARENT_INFORMATION ( PARENT_ID ) ;

ALTER TABLE AD_STUDENT_DETAILS ADD ( EMAIL_ADDR VARCHAR2(100) UNIQUE );

ALTER TABLE AD_FACULTY_LOGIN_DETAILS  MODIFY ( LOGIN_DATE DATE DEFAULT SYSDATE );

GRANT READ ON AD.AD_ACADEMIC_SESSION TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_COURSE_DETAILS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_DEPARTMENTS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_EXAM_DETAILS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_EXAM_RESULTS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_EXAM_TYPE TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_FACULTY_COURSE_DETAILS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_JOBS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_FACULTY_DETAILS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_FACULTY_LOGIN_DETAILS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_PARENT_INFORMATION TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_STUDENT_ATTENDANCE TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_STUDENT_COURSE_DETAILS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_STUDENT_DETAILS TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
GRANT READ ON AD.AD_STUDENT_COURSE_INFO TO LIVE_SQL_SAMPLE_SCHEMAS_USER;
